
<div class="card ml-2 mr-2">
    <div class="card-body"> 
        <form method="POST" action="{{ url_for('student_bp.add') }}" enctype="multipart/form-data">
            {{ form.hidden_tag() }}
    
            <div class="mb-3 ml-2 mr-2">
                <label for="{{ form.id.id }}" class="form-label">Student ID:</label>
                {{ form.id(class="form-control") }}
            </div>
    
            <div class="mb-3 ml-2 mr-2">
                <label for="{{ form.firstname.id }}" class="form-label">First Name:</label>
                {{ form.firstname(class="form-control") }}
            </div>
    
            <div class="mb-3 ml-2 mr-2">
                <label for="{{ form.lastname.id }}" class="form-label">Last Name:</label>
                {{ form.lastname(class="form-control") }}
            </div>
    
            <div class="mb-3 ml-2 mr-2">
                <label for="{{ form.gender.id }}" class="form-label">Gender:</label>
                {{ form.gender(class="form-select w-auto") }}
            </div>
    
            <div class="mb-3 ml-2 mr-2">
                <label for="addStudentCourse" class="form-label">Course:</label>
                <select id="addStudentCourse" class="form-select w-100" name="course" required>
                    <option value="" selected disabled>--- Select Course ---</option>
                    {% for course in courses %}
                        <option value="{{ course.code }}">{{ course.name }}</option>
                    {% endfor %}
                </select>
            </div>
    
            <div class="mb-3 ml-2 mr-2">
                <label for="{{ form.year.id }}" class="form-label">Year:</label>
                {{ form.year(class="form-select w-auto") }}
            </div>

            <div class="mb-3 ml-2 mr-2">
                <label for="{{ form.photo.id }}" class="form-label">Picture:</label>
                {{ form.photo(class="form-control", accept="image/*") }}
            </div>

            <div class="d-flex justify-content-end">
                <button type="submit" class="btn btn-primary mr-2"><i class="fa fa-paper-plane-o"></i> | Submit</button>
            </div>
        </form>
    </div>
</div>

<script>
    $(document).ready(function () {
    $('#photo').change(function () {
        var maxFileSize = 1024 * 1024; // 1 MB
        var fileSize = this.files[0].size;

        if (fileSize > maxFileSize) {
            alert('File size must be no more than 1 MB.');
            // Optionally, clear the file input
            $(this).val('');
        }

        var fileInput = document.getElementById('photo');

        // Check if any file is selected
        if (fileInput.files.length > 0) {
            // Get the selected file
            var selectedFile = fileInput.files[0];

            // Check the file type
            if (selectedFile.type.startsWith('image/')) {
                // It's a valid image type
                console.log('Valid image type!');
            } else {
                // It's not a valid image type
                alert('Please select a valid image file.');
                // You can optionally clear the file input to prevent submitting the invalid file
                fileInput.value = '';
            }
        }
    });
});
</script>



